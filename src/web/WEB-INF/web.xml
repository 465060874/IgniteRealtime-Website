<?xml version="1.0" encoding="ISO-8859-1"?>

<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">

<web-app>
    <display-name>Ignite Realtime Website</display-name>
    <description>Website source for igniterealtime.org</description>

    <!-- Path to the base builds dir. Change this for local testing. Note, do not include a trailing "/". -->
    <context-param>
        <param-name>builds-path</param-name>
        <param-value>/opt/j2ee/domains/igniterealtime.org/www/root/webapps/ROOT/builds</param-value>
    </context-param>

    <context-param>
        <param-name>plugins-path</param-name>
        <param-value>/opt/j2ee/domains/igniterealtime.org/www/root/webapps/ROOT/deployment/ROOT/projects/spark</param-value>
    </context-param>

    <!-- Database connection parameters -->
    <context-param>
        <param-name>dbURL</param-name>
        <param-value>jdbc:mysql://localhost:3306/jsorg_stats</param-value>
    </context-param>
    <context-param>
        <param-name>dbUsername</param-name>
        <param-value>jsorg_stats</param-value>
    </context-param>
    <context-param>
        <param-name>dbPassword</param-name>
        <param-value>k*3G@3Vm</param-value>
    </context-param>

    <filter>
        <filter-name>sitemesh</filter-name>
        <filter-class>com.opensymphony.module.sitemesh.filter.PageFilter</filter-class>
    </filter>

    <filter>
        <filter-name>CacheFilterStaticContent</filter-name>
        <filter-class>com.opensymphony.oscache.web.filter.CacheFilter</filter-class>
        <init-param>
            <param-name>lastModified</param-name>
            <param-value>on</param-value>
        </init-param>
        <init-param>
            <param-name>max-age</param-name>
            <param-value>86400</param-value>
        </init-param>
    </filter>

    <filter-mapping>
        <filter-name>CacheFilterStaticContent</filter-name>
        <url-pattern>*.gif</url-pattern>
    </filter-mapping>

    <filter-mapping>
        <filter-name>CacheFilterStaticContent</filter-name>
        <url-pattern>*.jpg</url-pattern>
    </filter-mapping>

    <filter-mapping>
        <filter-name>CacheFilterStaticContent</filter-name>
        <url-pattern>*.jpeg</url-pattern>
    </filter-mapping>

    <filter-mapping>
        <filter-name>CacheFilterStaticContent</filter-name>
        <url-pattern>*.png</url-pattern>
    </filter-mapping>

    <filter-mapping>
        <filter-name>CacheFilterStaticContent</filter-name>
        <url-pattern>*.js</url-pattern>
    </filter-mapping>

    <filter-mapping>
        <filter-name>sitemesh</filter-name>
        <url-pattern>*.jsp</url-pattern>
    </filter-mapping>

    <servlet>
        <servlet-name>DownloadStats</servlet-name>
        <servlet-class>org.jivesoftware.site.DownloadStats</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>DownloadServlet</servlet-name>
        <servlet-class>org.jivesoftware.site.DownloadServlet</servlet-class>
        <load-on-startup>2</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>UpdateServlet</servlet-name>
        <servlet-class>org.jivesoftware.updater.SparkUpdateServlet</servlet-class>
        <load-on-startup>3</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>PluginServlet</servlet-name>
        <servlet-class>org.jivesoftware.updater.SparkPluginServlet</servlet-class>
        <load-on-startup>4</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>PluginDownloadServlet</servlet-name>
        <servlet-class>org.jivesoftware.site.PluginDownloadServlet</servlet-class>
        <load-on-startup>5</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>PluginServlet</servlet-name>
        <url-pattern>/updater/sparkplugs</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PluginDownloadServlet</servlet-name>
        <url-pattern>/updater/sparkplugs/*.jar</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>UpdateServlet</servlet-name>
        <url-pattern>/updater/updater</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>DownloadServlet</servlet-name>
        <url-pattern>/downloadServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PluginDownloadServlet</servlet-name>
        <url-pattern>/projects/openfire/plugins/*.jar</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PluginDownloadServlet</servlet-name>
        <url-pattern>/projects/openfire/plugins/*.war</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PluginDownloadServlet</servlet-name>
        <url-pattern>/projects/openfire/plugins-beta/*.jar</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PluginDownloadServlet</servlet-name>
        <url-pattern>/projects/openfire/plugins-beta/*.war</url-pattern>
    </servlet-mapping>

    <taglib>
        <taglib-uri>http://www.opensymphony.com/sitemesh/decorator</taglib-uri>
        <taglib-location>/WEB-INF/classes/sitemesh-decorator.tld</taglib-location>
    </taglib>
    <taglib>
        <taglib-uri>http://www.opensymphony.com/sitemesh/page</taglib-uri>
        <taglib-location>/WEB-INF/classes/sitemesh-page.tld</taglib-location>
    </taglib>
    <taglib>
        <taglib-uri>oscache</taglib-uri>
        <taglib-location>/WEB-INF/lib/oscache.jar</taglib-location>
    </taglib>
    <taglib>
        <taglib-uri>transformtags</taglib-uri>
        <taglib-location>/WEB-INF/classes/transformtags.tld</taglib-location>
    </taglib>

</web-app>